import type { Money, Quote } from './types';

const usd = (amount: number): Money => ({ amount, currencyCode: 'USD' });

export const QUOTES: Quote[] = [
  {
    id: 'quote-2024-0156',
    quoteNumber: 'Q-2024-0156',
    companyId: 'comp-abstract-industrial',
    requesterId: 'contact-luis-mendoza',
    approverId: 'contact-sarah-chen',
    status: 'pending_approval',
    name: 'Q3 Maintenance Supplies',
    createdAt: '2024-09-10T15:35:00Z',
    submittedAt: '2024-09-11T08:12:00Z',
    expiresAt: '2024-09-24T23:59:00Z',
    purchaseOrderNumber: 'PO-97231',
    integrationChannel: 'salesforce',
    approxDeliveryDate: '2024-10-02',
    orderReference: undefined,
    salesRep: 'Taylor Price',
    subtotal: usd(7_020),
    taxTotal: usd(585.6),
    shippingTotal: usd(180),
    total: usd(7_785.6),
    currencyCode: 'USD',
    lineItems: [
      {
        id: 'line-0156-1',
        productId: 'prod-industrial-degreaser',
        title: 'Industrial Degreaser – 55 gal drum',
        sku: 'DEG-55-IND',
        quantity: 4,
        unitPrice: usd(950),
        total: usd(3_800),
        volumePricing: [
          { minimumQuantity: 6, unitPrice: usd(910) },
          { minimumQuantity: 10, unitPrice: usd(890) },
        ],
      },
      {
        id: 'line-0156-2',
        productId: 'prod-thermal-gloves',
        title: 'Thermal Safety Gloves (case of 24)',
        sku: 'TSG-24',
        quantity: 5,
        unitPrice: usd(210),
        total: usd(1_050),
      },
      {
        id: 'line-0156-3',
        productId: 'prod-pressure-hose',
        title: 'High-Pressure Hose Kit',
        sku: 'HPH-10',
        quantity: 10,
        unitPrice: usd(217),
        total: usd(2_170),
        discountPercent: 5,
      },
    ],
    notes: 'Restock for Q3 plant maintenance. Includes bulk pricing for hoses.',
    history: [
      {
        id: 'event-0156-created',
        type: 'created',
        occurredAt: '2024-09-10T15:35:00Z',
        actor: 'Luis Mendoza',
        note: 'Draft quote created from storefront cart.',
      },
      {
        id: 'event-0156-submitted',
        type: 'submitted',
        occurredAt: '2024-09-11T08:12:00Z',
        actor: 'Luis Mendoza',
        note: 'Submitted for approval with PO# PO-97231.',
      },
    ],
  },
  {
    id: 'quote-2024-0102',
    quoteNumber: 'Q-2024-0102',
    companyId: 'comp-blue-hollow',
    requesterId: 'contact-katherine-ruiz',
    approverId: 'contact-lina-hassan',
    status: 'approved',
    name: 'Winter Resort Refresh Package',
    createdAt: '2024-07-18T12:04:00Z',
    submittedAt: '2024-07-20T09:30:00Z',
    approvedAt: '2024-07-21T14:45:00Z',
    expiresAt: '2024-08-01T23:59:00Z',
    purchaseOrderNumber: 'PO-43811',
    integrationChannel: 'hubspot',
    approxDeliveryDate: '2024-09-05',
    orderReference: 'ORD-4821',
    salesRep: 'Jordan Miles',
    subtotal: usd(18_450),
    taxTotal: usd(1_476),
    shippingTotal: usd(540),
    total: usd(20_466),
    currencyCode: 'USD',
    lineItems: [
      {
        id: 'line-0102-1',
        productId: 'prod-lux-linens',
        title: 'Luxury Linen Set',
        sku: 'LIN-SET-SEASONAL',
        quantity: 60,
        unitPrice: usd(190),
        total: usd(11_400),
        discountPercent: 8,
      },
      {
        id: 'line-0102-2',
        productId: 'prod-spa-kits',
        title: 'Spa Amenity Kit',
        sku: 'SPA-KIT-WINTER',
        quantity: 200,
        unitPrice: usd(24),
        total: usd(4_800),
      },
      {
        id: 'line-0102-3',
        productId: 'prod-outdoor-heaters',
        title: 'Outdoor Infrared Heater',
        sku: 'INF-HEAT-XL',
        quantity: 15,
        unitPrice: usd(165),
        total: usd(2_475),
      },
      {
        id: 'line-0102-4',
        productId: 'prod-custom-signage',
        title: 'Custom Resort Signage Package',
        sku: 'SIGN-PKG',
        quantity: 1,
        unitPrice: usd(1_775),
        total: usd(1_775),
      },
    ],
    notes: 'Approved with seasonal pricing. Converted to Order ORD-4821.',
    history: [
      {
        id: 'event-0102-created',
        type: 'created',
        occurredAt: '2024-07-18T12:04:00Z',
        actor: 'Katherine Ruiz',
      },
      {
        id: 'event-0102-submitted',
        type: 'submitted',
        occurredAt: '2024-07-20T09:30:00Z',
        actor: 'Katherine Ruiz',
      },
      {
        id: 'event-0102-approved',
        type: 'approved',
        occurredAt: '2024-07-21T14:45:00Z',
        actor: 'Lina Hassan',
        note: 'Approved and released to fulfillment. Payment via installment plan.',
      },
    ],
  },
  {
    id: 'quote-2024-0088',
    quoteNumber: 'Q-2024-0088',
    companyId: 'comp-lynx-supply',
    requesterId: 'contact-hassan-kareem',
    status: 'expired',
    name: 'Tooling Reorder – Midwest Branches',
    createdAt: '2024-05-02T10:15:00Z',
    submittedAt: '2024-05-04T08:41:00Z',
    expiresAt: '2024-05-18T23:59:00Z',
    purchaseOrderNumber: 'PO-22108',
    integrationChannel: 'netsuite',
    approxDeliveryDate: '2024-06-05',
    salesRep: 'Ava Patel',
    subtotal: usd(9_875),
    taxTotal: usd(790),
    shippingTotal: usd(0),
    total: usd(10_665),
    currencyCode: 'USD',
    lineItems: [
      {
        id: 'line-0088-1',
        productId: 'prod-impact-drill',
        title: 'Heavy-Duty Impact Drill',
        sku: 'IMP-DRL-500',
        quantity: 25,
        unitPrice: usd(195),
        total: usd(4_875),
      },
      {
        id: 'line-0088-2',
        productId: 'prod-fastener-pack',
        title: 'Stainless Fastener Pack (case)',
        sku: 'FAST-CASE-SS',
        quantity: 40,
        unitPrice: usd(62.5),
        total: usd(2_500),
      },
      {
        id: 'line-0088-3',
        productId: 'prod-safety-cones',
        title: 'Collapsible Safety Cones',
        sku: 'SAFE-CONE',
        quantity: 120,
        unitPrice: usd(21),
        total: usd(2_520),
      },
    ],
    notes: 'Quote expired without approval. Trigger follow-up workflow.',
    history: [
      {
        id: 'event-0088-created',
        type: 'created',
        occurredAt: '2024-05-02T10:15:00Z',
        actor: 'Hassan Kareem',
      },
      {
        id: 'event-0088-submitted',
        type: 'submitted',
        occurredAt: '2024-05-04T08:41:00Z',
        actor: 'Hassan Kareem',
      },
      {
        id: 'event-0088-expired',
        type: 'expired',
        occurredAt: '2024-05-18T23:59:00Z',
        actor: 'System',
        note: 'No approval received before expiration date.',
      },
    ],
  },
];

export const getQuotesForCompany = (companyId: string): Quote[] =>
  QUOTES.filter((quote) => quote.companyId === companyId);

export const getQuoteById = (quoteId: string): Quote | undefined =>
  QUOTES.find((quote) => quote.id === quoteId);
